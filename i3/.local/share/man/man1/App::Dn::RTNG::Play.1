.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.0102 (Pod::Simple 3.45)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "Play 3"
.TH Play 3 2025-03-18 "perl v5.40.1" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
App::Dn::RTNG::Play \- toggle Radiotray\ NG player
.SH VERSION
.IX Header "VERSION"
This documentation is for \f(CW\*(C`App::Dn::RTNG::Play\*(C'\fR version 0.1.
.SH SYNOPSIS
.IX Header "SYNOPSIS"
.Vb 1
\&    use App::Dn::RTNG::Play;
\&
\&    App::Dn::RTNG::Play\->new_with_options\->run;
.Ve
.SH DESCRIPTION
.IX Header "DESCRIPTION"
Uses the Radiotray\ NG DBus interface to:
.IP \(bu 4
play the last-played station if the player is currently stopped
.IP \(bu 4
stop the player if it is currently playing.
.PP
When commencing play the script tries to set the default volume for the
station to be streamed. This is done by examining configuration file(s).
See "Configuration files" for more details.
.SH "CONFIGURATION AND ENVIRONMENT"
.IX Header "CONFIGURATION AND ENVIRONMENT"
.SS Properties
.IX Subsection "Properties"
None.
.SS Attributes
.IX Subsection "Attributes"
None.
.SS "Configuration files"
.IX Subsection "Configuration files"
Uses a configuration file with the file name stem 'rtng\-play\-change' placed in
one of the usual configuration file locations.
(See File::ConfigDir and Config::Any for further details.)
.PP
Any of the file formats supported by Config::Any can be used.
Configuration support is limited to default volume set on a per station basis.
There must be a section called 'volume' within which are key:value pairs where
keys are station names and values are corresponding volumes.
The volume values can be any format supported by \f(CW\*(C`pactl\*(C'\fR.
.PP
Here is an example configuration file located in
\&\fR\f(CI$HOME\fR\fI/.config/rtng\-play\-change.json\fR:
.PP
.Vb 6
\&    {
\&      "volume": {
\&        "ABC Country": "40%",
\&        "Country 108": "25%"
\&      }
\&    }
.Ve
.SS "Environment variables"
.IX Subsection "Environment variables"
None used.
.SH SUBROUTINES/METHODS
.IX Header "SUBROUTINES/METHODS"
.SS \fBrun()\fP
.IX Subsection "run()"
The only public method. It uses the Radiotray\ NG DBus interface to start the
player if it is stopped, or stop the player if it is playing.
.SH DIAGNOSTICS
.IX Header "DIAGNOSTICS"
.SS org.freedesktop.DBus.Error.ServiceUnknown
.IX Subsection "org.freedesktop.DBus.Error.ServiceUnknown"
The full error is:
.PP
.Vb 2
\&    org.freedesktop.DBus.Error.ServiceUnknown:
\&    The name com.github.radiotray_ng was not provided by any .service files
.Ve
.PP
The commonest cause of this error is that Radiotray\ NG is not running.
.SH INCOMPATIBILITIES
.IX Header "INCOMPATIBILITIES"
There are no known incompatibilities.
.SH "BUGS AND LIMITATIONS"
.IX Header "BUGS AND LIMITATIONS"
Please report any bugs to the author.
.SH DEPENDENCIES
.IX Header "DEPENDENCIES"
.SS "Perl modules"
.IX Subsection "Perl modules"
App::Dn::RTNG::Library, Const::Fast, namespace::clean, Moo, MooX::Options, strictures, Types::Standard, version.
.SH AUTHOR
.IX Header "AUTHOR"
David Nebauer <mailto:david@nebauer.org>
.SH "LICENSE AND COPYRIGHT"
.IX Header "LICENSE AND COPYRIGHT"
Copyright (c) 2025 David Nebauer <mailto:david@nebauer.org>
.PP
This script is free software; you can redistribute it and/or modify it under
the same terms as Perl itself.
